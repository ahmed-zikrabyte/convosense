# AI Agent Rules for `convo-mono`

Rules To Follow:

## 1. Project Overview

- **Repository:** This is Turborepo monorepo.
- Package Manager: use `pnpm` (e.g., `pnpm install`, `pnpm add <package>`).
- **Structure:**
  - `apps/`: Contains applications.
    - `admin`: Next.js app admin dashboard.
    - `client`: Next.js app for client dashboard.
    - `api`: Node.js/Express server for backend API.
  - `packages/`: Contains shared packages.
    - `ui`: Shared React components using `shadcn/ui`.

## 2. Technology Stack

- **Frontend (Admin & Client):** Next.js, React, TypeScript, Tailwind CSS.
- **Backend (API):** Node.js, Express, TypeScript.
- **UI Components:** `shadcn/ui`. Find shared components in `packages/ui`.
- **Linting:** ESLint with shared configurations from `packages/eslint-config`.
- **Formatting:** Prettier is used for code formatting.

## 3. Development Environment

- **Running Apps:** Use the `turbo dev` command from the root directory to start all applications in development mode.
  - `client` runs on `http://localhost:2000`.
  - `admin` runs on `http://localhost:2001`.
  - `api` runs on `http://localhost:2002`.
- **Building:** Use `turbo build` to build all apps.
- **Linting:** Use `turbo lint` to lint all apps and packages.
- **Formatting:** Use `pnpm format` to format the codebase.

## 4. Coding Conventions

- **File Naming:** Use kebab-case (e.g., `user-profile.tsx`, `auth-controller.ts`).
- **String Quotes:** Use double quotes (`"`).
- **TypeScript:** Adhere to the strict TypeScript configurations defined in the `tsconfig.json` files.
- **Components:**
  - New shared components should be created in `packages/ui/src/components`.
  - App-specific components should be placed in the respective `apps/<app-name>/components` directory.
- **API:**
  - Follow the existing structure for new endpoints: `service` -> `controller` -> `route`.
  - Use the `catchAsync` utility for handling errors in controllers.
  - Use the `AppError` class for custom error handling.

## Repository Tree

```
/Users/muhsinabdulnissar/MUHSIN/Zik/CONVO/convo-mono/
├───package.json
├───apps/
│   ├───admin/
│   │   ├───app/
│   │   │   ├───favicon.ico
│   │   │   ├───layout.tsx
│   │   │   └───page.tsx
│   │   ├───components/
│   │   │   └───providers.tsx
│   │   ├───next-env.d.ts
│   │   ├───package.json
│   │   ├───postcss.config.mjs
│   │   └───tsconfig.json
│   ├───api/
│   │   ├───.env.example
│   │   ├───.gitignore
│   │   ├───package.json
│   │   ├───src/
│   │   │   ├───api/
│   │   │   │   └───v1/
│   │   │   │       ├───controllers/
│   │   │   │       │   ├───admin/
│   │   │   │       │   │   ├───auth.controller.ts
│   │   │   │       │   │   └───user.controller.ts
│   │   │   │       │   ├───client/
│   │   │   │       │   │   ├───auth.controller.ts
│   │   │   │       │   │   └───profile.controller.ts
│   │   │   │       │   └───public/
│   │   │   │       │       └───auth.controller.ts
│   │   │   │       ├───index.ts
│   │   │   │       ├───routes/
│   │   │   │       │   ├───admin/
│   │   │   │       │   │   ├───auth.route.ts
│   │   │   │       │   │   └───user.route.ts
│   │   │   │       │   ├───client/
│   │   │   │       │   │   ├───auth.route.ts
│   │   │   │       │   │   └───profile.route.ts
│   │   │   │       │   └───public/
│   │   │   │       │       └───auth.route.ts
│   │   │   │       └───services/
│   │   │   │           ├───admin/
│   │   │   │           │   ├───auth.service.ts
│   │   │   │           │   └───user.service.ts
│   │   │   │           ├───client/
│   │   │   │           │   ├───auth.service.ts
│   │   │   │           │   └───profile.service.ts
│   │   │   │           └───public/
│   │   │   │               └───auth.service.ts
│   │   │   ├───config/
│   │   │   │   ├───database.ts
│   │   │   │   └───index.ts
│   │   │   ├───constants/
│   │   │   │   └───index.ts
│   │   │   ├───index.ts
│   │   │   ├───interfaces/
│   │   │   │   ├───index.ts
│   │   │   │   └───user.interface.ts
│   │   │   ├───middleware/
│   │   │   │   ├───auth.middleware.ts
│   │   │   │   └───error.middleware.ts
│   │   │   ├───models/
│   │   │   │   ├───admin.model.ts
│   │   │   │   ├───client.model.ts
│   │   │   │   └───user.model.ts
│   │   │   ├───scripts/
│   │   │   │   └───seed-users.ts
│   │   │   └───utils/
│   │   │       ├───AppError.ts
│   │   │       └───catchAsync.ts
│   │   └───tsconfig.json
│   └───client/
│       ├───app/
│       │   ├───(auth)/
│       │   │   └───login/
│       │   │       └───page.tsx
│       │   ├───(site)/
│       │   │   └───dashboard/
│       │   │       ├───layout.tsx
│       │   │       └───page.tsx
│       │   ├───favicon.ico
│       │   ├───layout.tsx
│       │   └───page.tsx
│       ├───components/
│       │   ├───app-sidebar.tsx
│       │   ├───auth-provider.tsx
│       │   ├───protected-route.tsx
│       │   └───providers.tsx
│       ├───components.json
│       ├───lib/
│       │   ├───auth.ts
│       │   └───axios.ts
│       ├───stores/
│       │   └───auth-store.ts
│       └───tsconfig.json
├───packages/
│   └───ui/
│       ├───components.json
│       ├───package.json
│       ├───postcss.config.mjs
│       ├───src/
│       │   ├───components/
│       │   │   ├───button.tsx
│       │   ├───hooks/
│       │   │   └───use-mobile.ts
│       │   ├───lib/
│       │   │   └───utils.ts
│       │   └───styles/
│       │       └───globals.css
│       ├───tsconfig.json
│       └───tsconfig.lint.json
└───...
```
