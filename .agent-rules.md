# AI Agent Rules for `convo-mono`

Rules To Follow:

## 1. Project Overview

- **Repository:** This is a Turborepo monorepo.
- **Package Manager:** The project uses `pnpm`. Always use `pnpm` for package management (e.g., `pnpm install`, `pnpm add <package>`).
- **Structure:**
  - `apps/`: Contains the applications.
    - `admin`: A Next.js application for the admin dashboard.
    - `client`: A Next.js application for the client-facing web app.
    - `api`: A Node.js/Express server for the backend API.
  - `packages/`: Contains shared packages.
    - `ui`: Shared React components using `shadcn/ui`.
    - `eslint-config`: Shared ESLint configuration.
    - `typescript-config`: Shared TypeScript configuration.

## 2. Technology Stack

- **Frontend (Admin & Client):** Next.js, React, TypeScript, Tailwind CSS.
- **Backend (API):** Node.js, Express, TypeScript.
- **UI Components:** `shadcn/ui` is used for the component library. Find shared components in `packages/ui`.
- **Linting:** ESLint with shared configurations from `packages/eslint-config`.
- **Formatting:** Prettier is used for code formatting.

## 3. Development Environment

- **Running Apps:** Use the `turbo dev` command from the root directory to start all applications in development mode.
  - `client` runs on `http://localhost:2000`.
  - `admin` runs on `http://localhost:2001`.
  - `api` runs on `http://localhost:2002`.
- **Building:** Use `turbo build` to build all apps.
- **Linting:** Use `turbo lint` to lint all apps and packages.
- **Formatting:** Use `pnpm format` to format the codebase.

## 4. Coding Conventions

- **File Naming:** Use **kebab-case** for all new files (e.g., `user-profile.tsx`, `auth-controller.ts`).
- **String Quotes:** Use **double quotes** (`"`) for all strings in TypeScript/JavaScript code.
- **TypeScript:** Adhere to the strict TypeScript configurations defined in the `tsconfig.json` files.
- **Components:**
  - New shared components should be created in `packages/ui/src/components`.
  - App-specific components should be placed in the respective `apps/<app-name>/components` directory.
- **API:**
  - Follow the existing structure for new endpoints: `service` -> `controller` -> `route`.
  - Use the `catchAsync` utility for handling errors in controllers.
  - Use the `AppError` class for custom error handling.
